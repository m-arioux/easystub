@page "/admin"

@using EasyStub.UI.Pages.Endpoint;
@using EasyStub.UI.Pages.Fallback

<PageTitle>Admin Panel</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">Admin Panel</MudText>

<section>
    <MudText Typo="Typo.h4" GutterBottom="true">Endpoints</MudText>

    <EndpointList Endpoints="endpoints" Actions="actions"></EndpointList>

    <MudStack Class="mt-4" Row="true">
        <MudButton Color="Color.Primary" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Add"
            Href="admin/endpoints/new">Add a new endpoint</MudButton>

        <MudButton Color="Color.Success" StartIcon="@Icons.Material.Filled.Refresh" @onclick="FetchEndpoints">Refresh
        </MudButton>
    </MudStack>

</section>

<section>
    <MudText Typo="Typo.h4" GutterBottom="true">Fallback</MudText>
    <MudText>Configure what you want the API to do when it receives a request you haven't configured</MudText>

    @if (fallback is not null)
    {
        <DisplayFallback Fallback="fallback" FallbackChanged="FallbackChanged"></DisplayFallback>
    }

</section>